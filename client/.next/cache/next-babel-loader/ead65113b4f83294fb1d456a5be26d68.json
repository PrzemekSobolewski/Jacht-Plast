{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Layout from '../components/Layout';\nimport axios from 'axios';\nimport { BounceLoader } from 'react-spinners';\nimport { css } from '@emotion/core';\nimport { useSelector } from \"react-redux\";\nimport { Helmet } from \"react-helmet\";\n\nconst Contact = () => {\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n  const {\n    0: subject,\n    1: setSubject\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const switchState = useSelector(state => state.switch);\n\n  const hideLoading = () => {\n    setLoading(false);\n  };\n\n  const spinnerStyle = css`\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        display: block;\n        margin: auto;\n    `;\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const instance = axios.create({\n      baseURL: 'http://cocky-wilson-df27de.netlify.com'\n    });\n\n    if (!((name.trim().length || email.trim().length || subject.trim().length) === 0)) {\n      let response = await instance.post('/api/form', {\n        name: name,\n        email: email,\n        subject: subject,\n        message: message\n      });\n\n      if (response.data.msg === 'success') {\n        alert('Message Sent.');\n        resetForm();\n      } else if (response.data.msg === 'fail') {\n        alert('Message failed to send.');\n      }\n    } else {\n      alert(switchState.language.alert);\n    }\n  };\n\n  const resetForm = () => {\n    setName('');\n    setMessage('');\n    setSubject('');\n    setEmail('');\n  };\n\n  return __jsx(Layout, null, __jsx(Helmet, null, __jsx(\"meta\", {\n    charSet: \"utf-8\"\n  }), __jsx(\"title\", null, \"Kontakt - Jacht Plast\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"Prosimy o kontakt z Jacht Plast telefonicznie lub drog\\u0105 elektroniczn\\u0105.\"\n  })), __jsx(\"div\", {\n    className: 'contact_div'\n  }, __jsx(\"h2\", null, switchState.language.contactHeader), __jsx(\"div\", {\n    className: 'contact_content'\n  }, __jsx(\"div\", {\n    className: 'contact_data',\n    dangerouslySetInnerHTML: {\n      __html: switchState.language.contactText\n    }\n  }), __jsx(\"form\", {\n    id: \"contact-form\",\n    className: 'contact_form',\n    method: \"POST\",\n    role: 'form',\n    onSubmit: handleSubmit\n  }, __jsx(\"input\", {\n    placeholder: switchState.language.formName,\n    type: 'text',\n    name: 'name',\n    id: 'name',\n    value: name,\n    onChange: e => setName(e.target.value)\n  }), __jsx(\"input\", {\n    placeholder: 'Email',\n    type: 'text',\n    name: 'email',\n    id: 'email',\n    value: email,\n    onChange: e => setEmail(e.target.value)\n  }), __jsx(\"input\", {\n    placeholder: switchState.language.formTopic,\n    type: 'text',\n    name: 'subject',\n    id: 'subject',\n    value: subject,\n    onChange: e => setSubject(e.target.value)\n  }), __jsx(\"textarea\", {\n    id: 'message',\n    name: 'message',\n    value: message,\n    placeholder: switchState.language.formMessage,\n    onChange: e => setMessage(e.target.value)\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"submitButton\"\n  }, switchState.language.formSend))), __jsx(\"div\", {\n    className: 'map_div'\n  }, loading ? __jsx(BounceLoader, {\n    css: spinnerStyle,\n    className: \"spinner\",\n    sizeUnit: \"px\",\n    size: 100,\n    color: '#3f89a2',\n    loading: true\n  }) : null, __jsx(\"div\", {\n    className: \"google_maps\"\n  }, __jsx(\"iframe\", {\n    title: \"Jacht-Plast Google Maps Localization\",\n    src: \"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d9945.949450330274!2d20.4618076!3d51.4492078!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x72536c3f299847fc!2sPHUP%20JACHT-PLAST!5e0!3m2!1spl!2spl!4v1571140334742!5m2!1spl!2spl\",\n    onLoad: hideLoading\n  })))));\n};\n\nexport default Contact;","map":null,"metadata":{},"sourceType":"module"}